<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Offline Exam Practice Assistant</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    * { box-sizing: border-box; font-family: system-ui, sans-serif; }
    body {
      margin: 0;
      padding: 16px;
      background: #0f172a;
      color: #e5e7eb;
    }
    h1 {
      text-align: center;
      margin-bottom: 16px;
      color: #facc15;
      letter-spacing: 0.05em;
    }
    .app {
      max-width: 900px;
      margin: 0 auto;
      background: #020617;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 0 25px rgba(0,0,0,0.6);
      border: 1px solid #1f2937;
    }
    .section-title {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: #9ca3af;
      margin-bottom: 8px;
    }
    textarea {
      width: 100%;
      background: #020617;
      color: #e5e7eb;
      border-radius: 8px;
      border: 1px solid #1f2937;
      padding: 10px;
      resize: vertical;
      min-height: 60px;
    }
    textarea:focus {
      outline: none;
      border-color: #facc15;
      box-shadow: 0 0 0 1px #facc15;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 12px;
    }
    .col-half {
      flex: 1 1 220px;
    }
    label {
      display: block;
      font-size: 13px;
      margin-bottom: 4px;
      color: #9ca3af;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      margin-right: 8px;
      margin-top: 4px;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease;
    }
    .primary {
      background: #facc15;
      color: #111827;
      font-weight: 600;
      box-shadow: 0 8px 20px rgba(250,204,21,0.25);
    }
    .primary:hover { transform: translateY(-1px); }
    .secondary {
      background: #111827;
      color: #e5e7eb;
      border: 1px solid #374151;
    }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #111827;
      color: #9ca3af;
      border: 1px solid #374151;
      margin-right: 4px;
    }
    .output-box {
      margin-top: 8px;
      padding: 10px;
      border-radius: 8px;
      background: #020617;
      border: 1px solid #1f2937;
      font-size: 14px;
    }
    .highlight {
      color: #facc15;
      font-weight: 600;
    }
    .stats {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      font-size: 13px;
    }
    .stat-card {
      flex: 1 1 120px;
      padding: 8px;
      border-radius: 8px;
      background: #020617;
      border: 1px solid #1f2937;
      text-align: center;
    }
    .stat-value {
      font-size: 18px;
      font-weight: 700;
      color: #facc15;
    }
    .stat-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
    }
  </style>
</head>
<body>
  <h1>Offline Exam Practice Assistant</h1>
  <div class="app">
    <div class="section-title">1 · Enter Question & Options</div>
    <label>Question</label>
    <textarea id="question" placeholder="Paste your MCQ question here..."></textarea>

    <div class="row">
      <div class="col-half">
        <label>Option A</label>
        <textarea id="optA"></textarea>
      </div>
      <div class="col-half">
        <label>Option B</label>
        <textarea id="optB"></textarea>
      </div>
    </div>
    <div class="row">
      <div class="col-half">
        <label>Option C</label>
        <textarea id="optC"></textarea>
      </div>
      <div class="col-half">
        <label>Option D</label>
        <textarea id="optD"></textarea>
      </div>
    </div>

    <div class="section-title">2 · Practice Tools</div>
    <button class="primary" onclick="suggestAnswer()">Suggest Answer</button>
    <button class="secondary" onclick="clearAll()">Clear</button>

    <div id="suggestionBox" class="output-box" style="display:none;"></div>

    <div style="margin-top: 12px;">
      <span class="badge">Practice Only</span>
      <span class="badge">Runs Locally</span>
      <span class="badge">No Live Exam Integration</span>
    </div>

    <div class="section-title" style="margin-top:16px;">3 · Explanation (for learning)</div>
    <textarea id="explanation" placeholder="Write or paste the explanation/solution here..."></textarea>

    <div class="section-title" style="margin-top:16px;">Session Stats</div>
    <div class="stats">
      <div class="stat-card">
        <div class="stat-value" id="totalQs">0</div>
        <div class="stat-label">Questions Practiced</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="correctQs">0</div>
        <div class="stat-label">Correct (Manual)</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="accuracy">0%</div>
        <div class="stat-label">Accuracy</div>
      </div>
    </div>

    <div style="margin-top:8px; font-size:12px; color:#9ca3af;">
      After checking your answer, update stats manually:
      <button class="secondary" style="padding:4px 10px; font-size:11px;" onclick="markResult(true)">I was correct</button>
      <button class="secondary" style="padding:4px 10px; font-size:11px;" onclick="markResult(false)">I was wrong</button>
    </div>
  </div>

  <script>
    let totalQs = 0;
    let correctQs = 0;

    function tokenize(text) {
      return text
        .toLowerCase()
        .replace(/[^a-z0-9\s]/g, " ")
        .split(/\s+/)
        .filter(Boolean);
    }

    function scoreOption(questionTokens, optionText) {
      const optTokens = tokenize(optionText);
      let score = 0;
      for (const t of optTokens) {
        if (questionTokens.includes(t)) score++;
      }
      return score;
    }

    function suggestAnswer() {
      const q = document.getElementById('question').value.trim();
      const A = document.getElementById('optA').value.trim();
      const B = document.getElementById('optB').value.trim();
      const C = document.getElementById('optC').value.trim();
      const D = document.getElementById('optD').value.trim();

      if (!q || !A || !B || !C || !D) {
        alert("Please fill question and all four options.");
        return;
      }

      const qTokens = tokenize(q);
      const scores = {
        A: scoreOption(qTokens, A),
        B: scoreOption(qTokens, B),
        C: scoreOption(qTokens, C),
        D: scoreOption(qTokens, D),
      };

      let bestOpt = 'A';
      let bestScore = scores.A;
      for (const key of ['B','C','D']) {
        if (scores[key] > bestScore) {
          bestScore = scores[key];
          bestOpt = key;
        }
      }

      const suggestionBox = document.getElementById('suggestionBox');
      suggestionBox.style.display = 'block';
      suggestionBox.innerHTML = `
        <div><span class="highlight">Suggested Answer:</span> Option <strong>${bestOpt}</strong></div>
        <div style="margin-top:6px; font-size:13px; color:#9ca3af;">
          This is a simple keyword-based guess for <em>practice only</em>.
          You should still think and decide yourself, then write the explanation below.
        </div>
      `;
    }

    function clearAll() {
      ['question','optA','optB','optC','optD','explanation'].forEach(id => {
        document.getElementById(id).value = '';
      });
      document.getElementById('suggestionBox').style.display = 'none';
    }

    function updateStatsUI() {
      document.getElementById('totalQs').textContent = totalQs;
      document.getElementById('correctQs').textContent = correctQs;
      const acc = totalQs === 0 ? 0 : Math.round((correctQs / totalQs) * 100);
      document.getElementById('accuracy').textContent = acc + '%';
    }

    function markResult(wasCorrect) {
      totalQs++;
      if (wasCorrect) correctQs++;
      updateStatsUI();
    }
  </script>
</body>
</html>

